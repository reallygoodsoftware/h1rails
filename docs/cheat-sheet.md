---
noIndex: true
---

# Cheat Sheet

<table data-header-hidden><thead><tr><th width="82.8515625"></th><th width="800"></th></tr></thead><tbody><tr><td><strong>Links</strong></td><td>• Use <code>&#x3C;a href="&#x3C;%= my_path %>">Click Me&#x3C;/a></code>. Avoid using link_to <br>• HTMX will be applied by default, so no need to add any hx- attributes by default. <br>• To remove/reset htmx on an individual link, do <code>&#x3C;a hx-boost="false" ...>&#x3C;/a></code> <br>• Use the url helpers <code>current_url_with</code> , <code>current_params_with</code> if needed. <a href="https://docs.h1rails.com/h1rails/urls">Read more</a> <br>• To make a link in an h1expo app open in a modal, add ?presentation=modal <br>• HTMX will not be applied if the request is inside a webview (user agent is h1expo). <br>• HTMX will not be applied by default if the link is inside active admin. <br>• For styling, use the <code>.ui-button</code> class to make a link a button, or <code>.ui-link</code> class for plain underline</td></tr><tr><td><strong>Forms</strong></td><td><p>• Use the form_for or form_with helper to open a form. Always add the <code>.ui-form</code> class. For example: <code>&#x3C;%= form_for @user, url: demo_user_form_path(@user), html: {class:"ui-form"} do |f| %></code><br>• For form fields, use the normal field helpers. For example: <code>&#x3C;%= f.text_field :first_name %></code><br>• Unless otherwise specified, use floating input labels for form elements. For example:</p><p><code>&#x3C;%= f.text_field :first_name %>&#x3C;%= f.label :first_name, class:"--label" %></code><br>• By default, all forms submit asynchronously (because we have <code>hx-boost</code> on the body. To disable this behaviour, add <code>hx-boost='false'</code> to the form.<br>• For nested forms, use <code>accepts_nested_attributes_for</code> in the model and <code>fields_for</code> in the view. To only display a subset of records, pass them in explicitly. For example: <code>&#x3C;%= user_form.fields_for :categories, @editable_categories do |nested_form| %></code><br>• Unless otherwise specified, include the form errors partial to show errors. For example: <code>&#x3C;%= render partial: "shared/form_errors", locals: { record: f.object} %></code><br>• Unless otherwise specified, add loading spinner icons to form submit buttons, with the <code>.shown-while-loading</code> class. For example: <code>&#x3C;%= f.button class: "ui-button --solid" do |button| %>Continue&#x3C;%= inline_svg_tag("misc/spinner.svg", class:"shown-while-loading") %>&#x3C;% end %></code><br>• Use the same controller action for both get and post actions. For multistep forms, create an action for each step and redirect the user to the next step if saved successfully. For example: <code>def get_order; if request.post?; redirect_to order_step2_path if @order.update(order_params); end; end</code><br>• For multistep forms apply conditional validations by using an <code>attr_accessor</code> called <code>validation_set</code>. Set it in the controller just before a save, and add the validations in the model with a proc. For example: <code>validates_presence_of :first_name, if: proc { |order| order.validation_set == "step1" }</code><br>• For forms with nested records, use a new button to add records, and add hx-preserve to the existing record divs so that they don’t get overwritten.<br>• For forms that require frontend notification messages, set toasts in the controller. For example: <code>flash.now[:toasts] = [{ title: 'Post Created', message: 'Your post has been created.' }]</code></p></td></tr><tr><td></td><td></td></tr></tbody></table>
